# SillyTavern 状态栏编辑器 (Status Bar Editor)
工具地址：http://h.hony-wen.com:3099/

## ⚠️注意：这是仅限给电脑端使用的工具，也不是给MVU用的状态栏⚠️

> _——别问我为什么_

这是一个基于 React + Vite + 生成式语言模型 开发的 **傻瓜工具** ，专为 **不会写前端代码又想写状态栏的小白** 设计，用于生成、编辑和预览角色状态栏（Status Bar）的 HTML/CSS 代码。

## ✨ 功能特点

*   **实时预览**: 左侧编辑代码，右侧实时渲染 HTML 效果。
*   **人工智障辅助生成，能工智人手动粘贴** :
    *   **数据转换** : 将随意的文本设定转换为标准的 JSON 格式世界书数据。
    *   **模版生成** : 自动分析数据结构，生成提取变量的正则表达式和 HTML 布局。
    *   **智障修改** : 使用自然语言指令（如“把背景改成赛博朋克风格”）修改 HTML 设计。
    *   **以图生码** : 上传参考图片，让大模型模仿其配色和布局。
*   **多模型支持**: 支持 (例如：Google AI Studio (Gemini)) 和 OpenAI 兼容接口 (例如：QinyAPI) 。

## 🕮 使用说明

### 1. API 设置
在`编辑器`界面右上角点击 **🔌 API 设置**。

<!-- ![img1.png](https://youke.xn--y7xa690gmna.cn/s1/2026/02/05/6983fc263ffa4.webp) -->
![img1.png](/res/img1.png)

*   **安全声明** ：出于安全考虑，`API密钥`仅在本地浏览器使用， **不会** 发送给网页服务器，也 **不会** 被保存。**所以每次使用请自己重新粘贴一次`API密钥`，除非你想被我嫖你的额度。**
*   **Google AI Studio** ：
    *   需要输入你的 `GOOGLE API KEY`。
    *   **工具模型**  (Tool Model)：推荐使用 `gemini-3-flash-preview`。
    *   **编码模型 ** (Coding Model)：推荐使用 `gemini-3-pro-preview`。
*   **OpenAI 兼容性 AI** (例如：QinyAPI) ：
    *   需要输入 `API地址`、`API密钥` 和 `模型名`。
    *   **模型推荐**：若无法使用 Gemini 模型，`工具模型`和`编码模型`均推荐使用 `claude-sonnet-4-5-20250929` 以获得最佳效果。_haiku效果太渣，opus你用不起。_

### 2. 生成数据模版
在`编辑器`分页 **1.数据示例** 窗口输入想要显示的数据条目，点击底部 `格式化为世界书数据 (Data)` 按钮，生成规范的世界书数据模版。

### 3. 生成代码
点击底部的 **生成正则与HTML模版** 按钮，AI 将生成对应的正则表达式和 HTML 代码。
> _提示：如果对生成的状态栏外观不满意，可以使用底部的 **随机生成全新设计 (Inspiration)** 按钮重新生成。_

### 4. 配置酒馆：世界书 (World Info)
复制`编辑器`分页 **2.世界书模版** 窗口的内容，在 SillyTavern 酒馆的角色卡中新建一个世界书条目。

<!-- ![img2.png](https://youke.xn--y7xa690gmna.cn/s1/2026/02/05/6983fc27b412b.webp) -->
![img2.png](/res/img2.png)

*   **条目名称**：`状态栏`（或你别人都觉得是状态栏的名字）
*   **世界书条目状态**：`🔵 永久`
*   **插入位置**：`@D ⚙ [系统]在深度`
*   **深度**：`6`
*   **内容**：
    
    ```text
    在每次对话末尾按以下模版生成女主角的当前数据：
    (在这里粘贴刚才你复制的`2.世界书模版`内容，想不起来就翻上去看)
    ```

### 5. 配置酒馆：正则脚本 (Regex Script)
在打开角色卡的状态下，前往 `SillyTavern酒馆` -> `扩展` -> `正则`，点击 **新建局部正则** ，建立一个只与这张角色卡绑定的脚本。


<!-- ![img3.png](https://youke.xn--y7xa690gmna.cn/s1/2026/02/05/6983fc273cc3e.webp) -->
![img3.png](/res/img3.png)
<!-- ![img4.png](https://youke.xn--y7xa690gmna.cn/s1/2026/02/05/6983fc274d664.webp) -->
![img4.png](/res/img4.png)

*   **脚本名称**：起个自己记得住的名字
*   **查找正则表达式** ：回到`编辑器`分页 **3.正则表达式** 复制窗口内容，粘贴到这里。
*   **替换为** ：
    1.  先输入两行反引号  ```  **(直接复制我这三个点)**
    2.  回到`编辑器`分页 **4.状态栏代码** 复制窗口内容，粘贴在这两行反引号之间。
    <!-- ![img5.png](https://youke.xn--y7xa690gmna.cn/s1/2026/02/05/6983fc26d10d5.webp) -->
    ![img5.png](/res/img5.png)
*   **修剪掉** ：`留空`（默认）
*   **作用范围 ** ：`AI输出`
*   **最小深度/最大深度** ：`留空`（默认）
*   **其他选项** ： `在编辑时运行`
*   **正则表达式查找时的宏** ：`不替换`
*   **短暂** ：选择 `仅格式显示`
*   **保存**

### 6. 测试
与你的角色卡对话一句，查看状态栏是否正常生成在末尾
